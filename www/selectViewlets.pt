<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en-US"
      lang="en-US"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:omit-tag="">

  <head tal:replace="nothing"><title></title></head>

  <body tal:omit-tag="">
    <h1 tal:replace="structure here/manage_page_header|nothing">
      Header
    </h1>

    <h2 tal:define="manage_tabs_message options/manage_tabs_message | nothing"
        tal:replace="structure here/manage_tabs">
      Tabs
    </h2>

    <div>
      <h2> Types/Viewlets </h2>
      <form action="manage_changeViewlets" method="POST">
        <table>
          <tr><th>Portal types</th><th>Viewlets</th><th>Default viewlet</th></tr>
          <tr style="background: #CCCCCC;vertical-align: top;" >
            <td class="form-label">Default Setup</td>
            <td class="form-element">
              <select multiple="multiple" size="5"
                      tal:attributes="name string:default_viewlets:list">
                <option tal:repeat="vi options/available_viewlets"
                        tal:attributes="value vi/id;
                                        selected python:vi['id'] in options['default_viewlets']"
                        tal:content="vi/title/strip|vi/id">
                  Viewlet
                </option>
              </select>
            </td>
            <td class="form-element">
              <select tal:attributes="name string:default_default;">
                <option tal:repeat="vi options/available_viewlets"
                        tal:attributes="value vi/id;
                                        selected python:vi['id'] == options['default_default']"
                        tal:content="vi/title/strip|vi/id">
                  Viewlet
                </option>
              </select>
            </td>
          </tr>
          <tr style="vertical-align: top;" tal:repeat="ti options/types_info">
            <td class="form-label"><div tal:content="ti/id" />
              <!--input type="checkbox" 
                     tal:attributes="name string:cb_default_${ti/id};"
                     />Use Default Setup -->
            </td>
            <td class="form-element">
              <select multiple="multiple" size="5"
                      tal:attributes="name string:viewlets_${ti/id}:list;">
                <option tal:repeat="vi ti/viewlet_info"
                        tal:attributes="value vi/id;
                                        selected python:vi['id'] in ti['viewlets']"
                        tal:content="vi/title/strip|vi/id">
                  Viewlet
                </option>
              </select>
            </td>
            <td class="form-element">
              <select tal:attributes="name string:default_${ti/id};">
                <option tal:repeat="vi ti/viewlet_info"
                        tal:attributes="value vi/id;
                                        selected python:vi['id'] == ti['default']"
                        tal:content="vi/title/strip|vi/id">
                  Viewlet
                </option>
              </select>
            </td>
          </tr>
        </table>
        <input type="submit" name="submit" value="Change" />
      </form>
    </div>
  </body>
</html>
