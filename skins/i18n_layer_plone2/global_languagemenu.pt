<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"
      i18n:domain="plone">

  <body>

    <metal:block metal:define-macro="languageMenu"
                 tal:condition="context/checkObjectI18NProperties">

      <ul tal:define="current_lang python:test(here.insideI18NLayer(), here.currentI18NContentLanguage()[0], here.getI18NDefaultLanguage());
                      langs python:here.getI18NLanguages().items();
                      defined_langs python:here.getI18NDefinedLanguages().keys();
                      manage_url string:i18n_languages_edit_form;
                      edit_url string:I18NContentEdit;">
        
        <li>
          <div class="menuPosition">
      
               <ul class="actionMenu" id="languageMenu">
                  <tal:block tal:repeat="lang langs">
                      <li tal:define="lang_id python:lang[0];
                                      lang_name python:lang[1];">
                          <a href="#"
                             style=""
                             tal:attributes="href string:$here_url/$edit_url?lang_code=${lang_id};
                                             style python:test(lang_id in defined_langs, 'font-weight: bold', '');"
                             tal:content="lang_name">
                            French
                          </a>
                      </li>
                  </tal:block>
                  
                  <li class="actionSeperator">
                      <a href="#" 
                         tal:attributes="href string:$here_url/$manage_url"
                         i18n:translate="label_advanced">Advanced</a>
                  </li>
               </ul>        
      
               <a href="#"
                  onclick="return buttonClick(event, 'languageMenu');"
                  onmouseover="buttonMouseover(event, 'languageMenu');">
      
                  <span i18n:translate="label_language">Language</span>:
          
                  <span class="language"
                        tal:content="current_lang"/>
                  
              </a>
      
          </div>
        </li> 
      </ul>

    </metal:block>
  </body>
</html>
